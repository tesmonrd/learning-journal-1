# Vulnerability Report - Mike's Learnin' Journal
#### Reviewer: Rick Tesmond
#### April, 2016

____________________________________________
## Case 1: CSRF

### Exposure
First, I was able to redirect to the login site via typing in the url (a different issue) and directly edited the html on the page. In the login submit form itself I was able to input `<a href="https://www.donaldjtrump.com/"></a>` around the submit button, so whenever Mike goes to login he will be redirected to Donald Drumpf's campaign page. This would get extremely annoying after a while.

### Repair
To fix this I created and placed `<input type="hidden" name="csrf_token" value="{{ request.session.get_csrf_token() }}">` tags on all the templates in the web app. I also went into the `__init__.py` file and added in session security measures, specifically added in the `config.set_session_factory(sessfac)` that was missing for CSRF security.

____________________________________________
## Case 2: XSS --Attempt

### Exposure
Although I was not able to execute the script due to a lack of form where users can register input, I was still able to enter script tags such as `<script>alert("HAHAHAHAHA")</script>`. The form did not have any restrictions on characters that could be added in. Again this was an attempt that did not work because of the lack of user registration that would take any input.

### Repair
If this would have worked, I would have added in a conditional statement in the Pyramid views that would set charater restrictions on the POST request. I'm not sure what this would have looked like since its a pyramid app/not django and its late, but I'd imagine it would include specifing a check such as `LEGALCHAR = string.ascii_charaters + numbers` and place that on the Post request.

____________________________________________
## Case 3: Insecure DOR --Attempt

### Exposure
I attempted at access an edit page by manually entering `https://gentle-fjord-54349.herokuapp.com/edit/2` but the site was correctly protecting the edit page. It returned a `403 forbidden`. This is caused by the view decorator that Mike has implemented on his views:
`@view_config(route_name='edit', renderer='templates/add.jinja2', permission='secured')`

### Repair
No need, he deterred a lowly hacker like me
